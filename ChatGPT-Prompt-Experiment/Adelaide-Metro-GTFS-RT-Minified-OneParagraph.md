# Minified One‑Paragraph Prompt — Adelaide Metro GTFS‑RT → ArcGIS Online

Write one **AGOL Python notebook cell** that logs in with `GIS("home")`, fetches GTFS‑Realtime vehicle positions from `https://gtfs.adelaidemetro.com.au/v1/realtime/vehicle_positions` using `gtfs-realtime-bindings` with a simple certifi‑SSL retry, keeps valid lon/lat within Adelaide (lon [137.5,140.5], lat [-36.5,-33.5]), dedupes latest per `VehicleID`, sets `VehicleType="Train"` if `RouteID` is alphabetic else `"Bus"`, and then creates or updates a Feature Service titled `Adelaide_Metro_Vehicles` (point layer, WKID 4326, extent 137.5,-36.5,140.5,-33.5) with fields `VehicleID(str50), VehicleLabel(str100), LicensePlate(str50), TripID(str50), RouteID(str50), DirectionID(int), StartTime(str20), StartDate(str20), Bearing(float), Speed(float), CurrentStopID(str50), PositionTimestamp(date), LastUpdated(date), VehicleType(str20)`; if it exists, replace all features, else create with that schema; write geometry and attributes for each record, set `LastUpdated=UTC now`, print counts (fetched/filtered/deduped/written), and raise on any failure; use only `arcgis`, `gtfs-realtime-bindings`, `urllib3`, `certifi`.
